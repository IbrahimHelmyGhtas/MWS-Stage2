var staticCacheName="MWS-Stage-idbFirstTest32";self.addEventListener("install",function(e){e.waitUntil(caches.open(staticCacheName).then(function(e){return e.addAll(["/","js/SW.js","js/main.js","js/dbhelper.js","js/indexDB.js","js/restaurant_info.js","css/styles.css","css/custome-styles.css","img/1.jpg","img/2.jpg","img/3.jpg","img/4.jpg","img/5.jpg","img/6.jpg","img/7.jpg","img/8.jpg","img/9.jpg"])}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return e.startsWith("MWS-")&&e!=staticCacheName}).map(function(e){return caches.delete(e)}))}))}),self.addEventListener("fetch",function(e){e.respondWith(caches.match(e.request).then(function(t){if(t)return console.log("get it online"),console.log("response",t),t;console.log("get it offline");var n=fetch(e.request);if(n)return n;dbPromise.then(function(e){return e.transaction("restaurants").objectStore("restaurants").getAll()}).then(function(e){console.log("Offline Restaurants obj : ",e)})}))});